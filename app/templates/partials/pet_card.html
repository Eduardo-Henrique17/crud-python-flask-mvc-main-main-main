<div x-data="{ open: false }" class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-200">

    {% if item.imagem %}
        <img src="{{ url_for('static', filename='uploads/' ~ item.imagem) }}"
             class="w-full h-56 object-cover">
    {% else %}
        <div class="w-full h-56 bg-gray-300 flex items-center justify-center text-gray-600">
            Sem imagem
        </div>
    {% endif %}

    <div class="p-4">
        <div class="flex items-start justify-between">
            <!-- Coluna de informações -->
            <div class="flex-1 text-sm text-gray-700">
                <p><strong>Nome:</strong> {{ item.nome }}</p>
                <p><strong>Idade:</strong> {{ item.idade }}</p>
                <p><strong>Estado:</strong> {{ item.dono.estado }}</p>
                <p><strong>Cidade:</strong> {{ item.dono.cidade }}</p>
                <p><strong>Telefone:</strong> {{ item.dono.telefone }}</p>
                <p><strong>Email:</strong> {{ item.dono.email }}</p>
            </div>

            <!-- Coluna da imagem do perfil -->
            <div class="ml-4">
                <img 
                    @click="open = true"
                    class="w-16 h-16 mt-2 rounded-full border-4 border-[#42A5F5] shadow object-cover cursor-pointer"
                    src="{{ url_for('static', filename='uploads/' ~ item.dono.foto_perfil) if item.dono.foto_perfil else '/static/img/user.png' }}"
                    alt=""
                >
            </div>
        </div>
    </div>

    <!-- MODAL DO USUÁRIO -->
    <div 
        x-show="open" 
        class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
    >
        <div 
            class="bg-white rounded-xl p-6 w-80 relative"
            @click.away="open = false"
        >
            <button @click="open = false" class="absolute top-2 right-2 text-gray-500 hover:text-gray-800">&times;</button>
            <div class="flex flex-col items-center">
                <img 
                    class="w-24 h-24 rounded-full border-4 border-[#42A5F5] shadow object-cover mb-4"
                    src="{{ url_for('static', filename='uploads/' ~ item.dono.foto_perfil) if item.dono.foto_perfil else '/static/img/user.png' }}"
                    alt=""
                >
                <h2 class="text-xl font-bold">{{ item.dono.nome }}</h2>
                <p><strong>Email:</strong> {{ item.dono.email }}</p>
                <p><strong>Telefone:</strong> {{ item.dono.telefone }}</p>
                <p><strong>Estado:</strong> {{ item.dono.estado }}</p>
                <p><strong>Cidade:</strong> {{ item.dono.cidade }}</p>
            </div>
        </div>
    </div>

</div>
